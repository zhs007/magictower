# 计划 016: 实现装备更换 UI 对话框

## 1. 任务目标

为装备更换流程中需要玩家决策的场景，创建一个用户界面（UI）对话框。

## 2. 功能需求

1.  **触发条件**:
    - 当 `compareEquipment` 函数返回 `PROMPT_SWAP` 结果时，应触发并显示此对话框。
    - 这主要发生在以下情况：
        - 新装备的属性与当前装备相比，有增有减（混合变化）。
        - 任何在单手武器（1H）与双手武器（2H）之间的替换操作。

2.  **显示内容**:
    - 对话框需要清晰地展示新旧装备的属性对比。
    - **属性变化**:
        - 提升的属性应以 **绿色** 字体显示，并附带 `+` 号。
        - 降低的属性应以 **红色** 字体显示，并附带 `-` 号。
        - 无变化的属性可以不显示或以默认颜色显示。
    - **装备信息**: 应显示新旧装备的名称和图标。在 1H vs 2H 的情况下，需要能并列展示2件单手武器 vs 1件双手武器的对比。

3.  **玩家交互**:
    - 对话框必须提供明确的交互选项，例如：
        - **“更换”** 按钮：确认更换装备。
        - **“取消”** 按钮：放弃新装备，保留当前装备。

4.  **装备后效果**:
    - 每当玩家的装备发生变化（无论是初始装备、自动更换还是通过对话框确认更换），变化的属性值应以“飘字”的形式从玩家角色身上弹出。
    - 提升的数值显示为绿色（例如 `+10`）。
    - 降低的数值显示为红色（例如 `-5`）。
    - 效果为数字向上漂浮并逐渐消失。

5.  **技术实现**:
    - UI 组件的实现应放在 `src/renderer/ui/` 目录下。
    - 需要监听一个游戏事件（例如 `PROMPT_EQUIPMENT_SWAP`），该事件由核心逻辑在需要时触发，并携带新旧装备的对比数据。
    - 玩家做出选择后，UI 组件需要分发一个新的 Action（例如 `CONFIRM_SWAP` 或 `CANCEL_SWAP`）来通知核心逻辑执行后续操作。
