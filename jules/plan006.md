# 计划 006: HUD 与 UI 界面实现

## 目标

为游戏主界面创建一个平视显示器（HUD），用于实时展示玩家的状态，如生命值、攻击、防御和拥有的钥匙数量。这将为玩家提供决策所需的关键信息。

## 主要任务

1.  **设计 UI 布局**:
    - 规划 HUD 在竖屏界面中的位置。通常可以放在屏幕的顶部或底部，以免遮挡核心游戏区域。
    - 确定要显示的信息：
        - 玩家头像 (可选)
        - 楼层数 (e.g., "Floor: 1")
        - HP: (e.g., "HP: 100 / 100")
        - 攻击力 (e.g., "ATK: 10")
        - 防御力 (e.g., "DEF: 10")
        - 钥匙数量 (e.g., 黄: 1, 蓝: 0, 红: 2)

2.  **创建 UI 组件 (`src/renderer/ui/`)**:
    - 使用 Pixi.js 的 `Text` 对象来显示文本信息。可以封装一个 `StatDisplay` 类，它包含一个标签 (`Text`) 和一个值 (`Text`)，方便更新。
    - 使用 Pixi.js 的 `Sprite` 来显示钥匙图标，旁边用 `Text` 显示数量。
    - 使用 Pixi.js 的 `Container` 将所有 UI 元素组合成一个整体的 HUD。这个 `HUDContainer` 将被添加到主舞台上。

3.  **更新 UI**:
    - 在 `Renderer` 类中，添加一个 `updateHUD(state: GameState)` 方法。
    - 这个方法会在 `render` 方法中被调用，或者在状态发生变化时被显式调用。
    - `updateHUD` 会从 `GameState` 中读取最新的玩家数据（`state.player.hp`, `state.player.attack`, `state.player.keys` 等），并更新 `HUDContainer` 中对应的 `Text` 对象的内容。

4.  **添加怪物信息面板 (可选，但推荐)**:
    - 实现一个功能：当玩家在地图上点击（或悬停在）一个怪物时，显示该怪物的信息面板。
    - 面板上显示怪物名称、HP、攻击和防御。
    - 这能帮助玩家在战斗前评估风险，是游戏策略性的重要一环。
    - 这需要 `InputManager` 能够识别对地图实体的点击，并通知 `Renderer` 显示/隐藏信息面板。

## 验收标准

- 游戏启动后，屏幕上会显示一个固定的 HUD 区域。
- HUD 能正确显示玩家的初始 HP、攻击、防御和钥匙数量。
- 当玩家拾取道具（如恢复药、水晶）或与怪物战斗后，HUD 上的数值会立即更新以反映最新的状态。
- 如果实现了怪物信息面板，点击地图上的怪物能正确显示其属性。
- UI 元素布局合理，不会与核心游戏区域发生重叠或遮挡。
